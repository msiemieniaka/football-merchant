{{/*
Secrets Template
Note: In production, use external secret management (e.g., Vault, Sealed Secrets)
For local development, create secrets manually before installing the chart:

kubectl create secret generic football-ai-secrets \
  --from-literal=POSTGRES_USER=your_user \
  --from-literal=POSTGRES_PASSWORD=your_password \
  --from-literal=POSTGRES_DB=your_db \
  --from-literal=POSTGRES_REPLICATION_PASSWORD=replicator_password \
  --from-literal=FOOTBALL_DATA_ORG_KEY=your_key \
  --from-literal=API_FOOTBALL_KEY=your_key \
  --from-literal=PGADMIN_EMAIL=admin@admin.com \
  --from-literal=PGADMIN_PASSWORD=admin \
  -n football-ai
*/}}

{{/*
Uncomment the following to create secrets from values (NOT recommended for production)
*/}}
{{- if .Values.secrets }}
{{- if .Values.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: football-ai-secrets
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "football-ai.labels" . | nindent 4 }}
type: Opaque
data:
  {{- range $key, $value := .Values.secrets.data }}
  {{ $key }}: {{ $value | b64enc | quote }}
  {{- end }}
{{- end }}
{{- end }}
